<!DOCTYPE html>
<html lang="en">
<head>
    <title>Ver-ID API Documentation</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<aside><h2>Classes</h2><ul><li><a href="com.appliedrec.ver_id.ui.VerIDFragment.html">VerIDFragment</a></li><li><a href="com.appliedrec.ver_id.ui.VerIDTheme.html">VerIDTheme</a></li><li><a href="com.appliedrec.ver_id.ui.VerIDTheme.ColourScheme.html">VerIDTheme.ColourScheme</a></li><li><a href="com.appliedrec.ver_id.ui.VerIDActivity.html">VerIDActivity</a></li><li><a href="com.appliedrec.ver_id.VerID.html">VerID</a></li><li><a href="com.appliedrec.ver_id.util.FaceUtil.html">FaceUtil</a></li><li><a href="com.appliedrec.ver_id.VerIDLivenessDetectionIntent.html">VerIDLivenessDetectionIntent</a></li><li><a href="com.appliedrec.ver_id.VerIDRegistrationIntent.html">VerIDRegistrationIntent</a></li><li><a href="com.appliedrec.ver_id.VerIDSessionIntent.html">VerIDSessionIntent</a></li><li><span class="deprecated">LogEntry</span> (deprecated)</li><li><a href="com.appliedrec.ver_id.model.VerIDFace.html">VerIDFace</a></li><li><span class="deprecated">RecognitionFace</span> (deprecated)</li><li><a href="com.appliedrec.ver_id.model.VerIDUser.html">VerIDUser</a></li><li><a href="com.appliedrec.ver_id.UserManager.html">UserManager</a></li><li><a href="com.appliedrec.ver_id.loaders.VerIDUserPictureUriLoader.html">VerIDUserPictureUriLoader</a></li><li><a href="com.appliedrec.ver_id.loaders.VerIDUsersLoader.html">VerIDUsersLoader</a></li><li><a href="com.appliedrec.ver_id.loaders.VerIDRegistrationLoader.html">VerIDRegistrationLoader</a></li><li><a href="com.appliedrec.ver_id.loaders.VerIDLoader.html">VerIDLoader</a></li><li><a href="com.appliedrec.ver_id.VerIDAuthenticationIntent.html">VerIDAuthenticationIntent</a></li><li><a href="com.appliedrec.ver_id.services.VerIDFaceDetectionService.html">VerIDFaceDetectionService</a></li><li><a href="com.appliedrec.ver_id.services.VerIDTAFaceDetectionService.html">VerIDTAFaceDetectionService</a></li><li><a href="com.appliedrec.ver_id.session.VerIDLivenessDetectionSessionSettings.html">VerIDLivenessDetectionSessionSettings</a></li><li><a href="com.appliedrec.ver_id.session.VerIDAuthenticationSessionSettings.html">VerIDAuthenticationSessionSettings</a></li><li><a href="com.appliedrec.ver_id.session.VerIDSessionResult.html">VerIDSessionResult</a></li><li><a href="com.appliedrec.ver_id.session.VerIDRegistrationSessionSettings.html">VerIDRegistrationSessionSettings</a></li><li><a href="com.appliedrec.ver_id.session.VerIDSessionSettings.html">VerIDSessionSettings</a></li></ul><h2>Interfaces</h2><ul><li><a href="com.appliedrec.ver_id.ui.VerIDFragmentDelegate.html">VerIDFragmentDelegate</a></li><li><span class="deprecated">VerID.LogSubmitterListener</span> (deprecated)</li><li><a href="com.appliedrec.ver_id.VerID.LoadCallback.html">VerID.LoadCallback</a></li><li><span class="deprecated">ILogger</span> (deprecated)</li><li><span class="deprecated">ILogSubmitter</span> (deprecated)</li></ul><h2>Enums</h2><ul><li><a href="com.appliedrec.ver_id.VerID.Bearing.html">VerID.Bearing</a></li><li><a href="com.appliedrec.ver_id.VerID.LivenessDetection.html">VerID.LivenessDetection</a></li><li><a href="com.appliedrec.ver_id.VerID.AntiSpoofingMethod.html">VerID.AntiSpoofingMethod</a></li><li><a href="com.appliedrec.ver_id.VerID.SecurityLevel.html">VerID.SecurityLevel</a></li><li><span class="deprecated">ILogger.EventType</span> (deprecated)</li><li><a href="com.appliedrec.ver_id.services.VerIDFaceDetectionService.Axis.html">VerIDFaceDetectionService.Axis</a></li><li><a href="com.appliedrec.ver_id.session.VerIDSessionResult.Outcome.html">VerIDSessionResult.Outcome</a></li><li><a href="com.appliedrec.ver_id.session.VerIDSessionSettings.CameraLensFacing.html">VerIDSessionSettings.CameraLensFacing</a></li></ul></aside>
</body>
</html>
<h1>VerIDFaceDetectionService</h1>
<section>
<h4>Default implementation of <a href="com.appliedrec.ver_id.services.IFaceDetectionService.html">IFaceDetectionService</a>. Suitable for handheld devices.</h4>
</section>
<h4>Package com.appliedrec.ver_id.services</h4>
<code>public class  VerIDFaceDetectionService</code>
<ul class="ancestry"><li>com.appliedrec.ver_id.services.VerIDFaceDetectionService
<ul class="ancestry"><li>java.lang.Object
</li></ul>
</li></ul>
<h2>Implements</h2>
<ul class="ancestry">
<li>com.appliedrec.ver_id.services.IFaceDetectionService</li>
</ul>
<section><h2>Constructors</h2><dl>
<dt><h3><a name="VerIDFaceDetectionService(VerIDSessionSettings)">VerIDFaceDetectionService</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public VerIDFaceDetectionService(VerIDSessionSettings)</code>
<p>Class constructor</p>
<h4>Parameters</h4>
<dl>
<dt>settings <code>com.appliedrec.ver_id.session.VerIDSessionSettings</code></dt>
<dd>Session settings</dd>
</dl>

</dd>
<dt><h3><a name="VerIDFaceDetectionService(VerIDSessionSettings, long, int, float, float, float, float)">VerIDFaceDetectionService</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public VerIDFaceDetectionService(VerIDSessionSettings, long, int, float, float, float, float)</code>
<p>Class constructor</p>
<h4>Parameters</h4>
<dl>
<dt>settings <code>com.appliedrec.ver_id.session.VerIDSessionSettings</code></dt>
<dd>Session settings</dd>
<dt>pauseTime <code>long</code></dt>
<dd>Pause time in milliseconds</dd>
<dt>faceBufferSize <code>int</code></dt>
<dd>Size of the face buffer</dd>
<dt>yawThreshold <code>float</code></dt>
<dd>Threshold angle for the yaw axis</dd>
<dt>pitchThreshold <code>float</code></dt>
<dd>Threshold angle for the pitch axis</dd>
<dt>yawThresholdTolerance <code>float</code></dt>
<dd>Threshold tolerance angle for the yaw axis</dd>
<dt>pitchThresholdTolerance <code>float</code></dt>
<dd>Threshold tolerance angle for the pitch axis</dd>
</dl>
<h4>See also</h4><ul class="seeAlso"><li><a href="com.appliedrec.ver_id.services.VerIDFaceDetectionService.html#getPauseTime()">com.appliedrec.ver_id.services.VerIDFaceDetectionService.html#getPauseTime()</a></li><li><a href="com.appliedrec.ver_id.services.VerIDFaceDetectionService.html#getFaceBufferSize()">com.appliedrec.ver_id.services.VerIDFaceDetectionService.html#getFaceBufferSize()</a></li><li><a href="com.appliedrec.ver_id.services.VerIDFaceDetectionService.html#getThresholdAngleForAxis(Axis)">com.appliedrec.ver_id.services.VerIDFaceDetectionService.html#getThresholdAngleForAxis(Axis)</a></li><li><a href="com.appliedrec.ver_id.services.VerIDFaceDetectionService.html#getThresholdAngleToleranceForAxis(Axis)">com.appliedrec.ver_id.services.VerIDFaceDetectionService.html#getThresholdAngleToleranceForAxis(Axis)</a></li></ul>
</dd>
</dl></section>
<section><h2>Methods</h2><dl>
<dt><h3><a name="detectFaceInVerIDImage(VerIDImage)">detectFaceInVerIDImage</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public final synchronized detectFaceInVerIDImage(VerIDImage)</code>
<p>Detect face in image</p>
<h4>Parameters</h4>
<dl>
<dt>image <code>com.appliedrec.ver_id.VerIDImage</code></dt>
<dd>Image in which to detect the face</dd>
</dl>
<h4>Returns</h4>
<dl>
<dt><code>com.appliedrec.ver_id.model.FaceDetectionResult</code></dt>
<dd>Face detection result</dd>
</dl>

</dd>
<dt><h3><a name="getSmoothingBufferSize()">getSmoothingBufferSize</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public getSmoothingBufferSize()</code>
<p>To reduce noise in face detection the face angle and bounds are kept in a buffer and a smoothed value is used for calculations and display.
 Override this method if you need to increase or decrease the size of the buffers. Default value is 3.
 Larger buffer size will yield smoother results but the display may appear lagging behind.
 Smaller size will produce more responsive but potentially stuttering and error-prone user experience.</p>
<h4>Returns</h4>
<dl>
<dt><code>int</code></dt>
<dd>Buffer size</dd>
</dl>

</dd>
<dt><h3><a name="getPauseTime()">getPauseTime</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public getPauseTime()</code>
<p>When the face is fixed the face detection will pause to allow enough time for the user to read the on-screen instructions.
 The default pause is 2000 (2 seconds).
 Decreasing the pause time will shorten the session but may lead to a frustrating user experience if the user isn't allowed enough time to read the prompts.</p>
<h4>Returns</h4>
<dl>
<dt><code>long</code></dt>
<dd>Pause time in milliseconds</dd>
</dl>

</dd>
<dt><h3><a name="getFaceBufferSize()">getFaceBufferSize</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public getFaceBufferSize()</code>
<p>To reduce the possibility of an unwanted face accidentally being considered in the session the service buffers a number of faces and checks that their bounds are within a given range of each other.
 Decresing the value will speed up the session but introduce the possibility of a passing face being detected and considered for recognition. Default value is 4.</p>
<h4>Returns</h4>
<dl>
<dt><code>int</code></dt>
<dd>Size of the face buffer</dd>
</dl>

</dd>
<dt><h3><a name="isFaceWithBoundsFixedInImageSize(RectF, Size)">isFaceWithBoundsFixedInImageSize</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public isFaceWithBoundsFixedInImageSize(RectF, Size)</code>
<p>When the service first detects a face it checks the result of this method to see if it can consider the face "fixed" and ready to ask the user to align with a bearing.</p>
<h4>Parameters</h4>
<dl>
<dt>faceBounds <code>android.graphics.RectF</code></dt>
<dd>Bounds of the detected face</dd>
<dt>size <code>com.appliedrec.shared.Size</code></dt>
<dd>Pixel size of the image in which the face was detected</dd>
</dl>
<h4>Returns</h4>
<dl>
<dt><code>boolean</code></dt>
<dd>true if the face is "fixed"</dd>
</dl>

</dd>
<dt><h3><a name="angleMatchesBearing(VerID.EulerAngleF, VerID.Bearing)">angleMatchesBearing</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public final angleMatchesBearing(VerID.EulerAngleF, VerID.Bearing)</code>
<p>Helper method to check whether an angle matches a bearing</p>
<h4>Parameters</h4>
<dl>
<dt>angle <code>com.appliedrec.ver_id.VerID.EulerAngleF</code></dt>
<dd>Face angle</dd>
<dt>bearing <code>com.appliedrec.ver_id.VerID.Bearing</code></dt>
<dd>Bearing</dd>
</dl>
<h4>Returns</h4>
<dl>
<dt><code>boolean</code></dt>
<dd>true if the angle matches the bearing</dd>
</dl>

</dd>
<dt><h3><a name="getAngleForBearing(VerID.Bearing)">getAngleForBearing</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public final getAngleForBearing(VerID.Bearing)</code>
<p>Helper method to get an angle representing the given bearing.</p>
<h4>Parameters</h4>
<dl>
<dt>bearing <code>com.appliedrec.ver_id.VerID.Bearing</code></dt>
<dd>Bearing</dd>
</dl>
<h4>Returns</h4>
<dl>
<dt><code>com.appliedrec.ver_id.VerID.EulerAngleF</code></dt>
<dd>Bearing angle</dd>
</dl>

</dd>
<dt><h3><a name="getMinAngleForBearing(VerID.Bearing)">getMinAngleForBearing</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public final getMinAngleForBearing(VerID.Bearing)</code>
<p>Helper method to get a minimum angle for the given bearing.
 For a face to be considered matching a bearing, its angle must lie between minimum and <a href="com.appliedrec.ver_id.services.VerIDFaceDetectionService.html#getMaxAngleForBearing(VerID.Bearing)">maximum</a> angles for the bearing.</p>
<h4>Parameters</h4>
<dl>
<dt>bearing <code>com.appliedrec.ver_id.VerID.Bearing</code></dt>
<dd>Bearing</dd>
</dl>
<h4>Returns</h4>
<dl>
<dt><code>com.appliedrec.ver_id.VerID.EulerAngleF</code></dt>
<dd>Minimum angle</dd>
</dl>

</dd>
<dt><h3><a name="getMaxAngleForBearing(VerID.Bearing)">getMaxAngleForBearing</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public final getMaxAngleForBearing(VerID.Bearing)</code>
<p>Helper method to get a maximum angle for the given bearing.
 For a face to be considered matching a bearing, its angle must lie between <a href="com.appliedrec.ver_id.services.VerIDFaceDetectionService.html#getMinAngleForBearing(VerID.Bearing)">minimum</a> and maximum angles for the bearing.</p>
<h4>Parameters</h4>
<dl>
<dt>bearing <code>com.appliedrec.ver_id.VerID.Bearing</code></dt>
<dd>Bearing</dd>
</dl>
<h4>Returns</h4>
<dl>
<dt><code>com.appliedrec.ver_id.VerID.EulerAngleF</code></dt>
<dd>Maximum angle</dd>
</dl>

</dd>
<dt><h3><a name="getStatus()">getStatus</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public final getStatus()</code>
<p>Returns the current status of face detection.
 The status of a typical liveness detection session will change from <a href="com.appliedrec.ver_id.session.FaceDetectionStatus.html#STARTED">started</a>
 to <a href="com.appliedrec.ver_id.session.FaceDetectionStatus.html#FACE_FOUND">face found</a> to <a href="com.appliedrec.ver_id.session.FaceDetectionStatus.html#FACE_FIXED">face fixed</a>
 to <a href="com.appliedrec.ver_id.session.FaceDetectionStatus.html#FACE_ALIGNED">face aligned</a> to <a href="com.appliedrec.ver_id.session.FaceDetectionStatus.html#FACE_MISALIGNED">face misaligned</a>
 and again <a href="com.appliedrec.ver_id.session.FaceDetectionStatus.html#FACE_ALIGNED">face aligned</a>.</p>
<h4>Returns</h4>
<dl>
<dt><code>com.appliedrec.ver_id.session.FaceDetectionStatus</code></dt>
<dd>Face detection status</dd>
</dl>

</dd>
<dt><h3><a name="getFaceBuffer()">getFaceBuffer</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public final getFaceBuffer()</code>
<p>Buffer of detected face bounds. Used when evaluating whether a face is aligned.
 The maximum size of the buffer is dictated by <a href="com.appliedrec.ver_id.services.VerIDFaceDetectionService.html#getFaceBufferSize()">getFaceBufferSize()</a>.</p>
<h4>Returns</h4>
<dl>
<dt><code>java.util.ArrayList&lt;RectF&gt;</code></dt>
<dd>List of detected face bounds</dd>
</dl>

</dd>
<dt><h3><a name="getAngleFromAngleToBearing(VerID.EulerAngleF, VerID.Bearing)">getAngleFromAngleToBearing</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public final getAngleFromAngleToBearing(VerID.EulerAngleF, VerID.Bearing)</code>
<p>Angle from a given angle to a bearing</p>
<h4>Parameters</h4>
<dl>
<dt>angle <code>com.appliedrec.ver_id.VerID.EulerAngleF</code></dt>
<dd>From angle</dd>
<dt>bearing <code>com.appliedrec.ver_id.VerID.Bearing</code></dt>
<dd>To bearing</dd>
</dl>
<h4>Returns</h4>
<dl>
<dt><code>double</code></dt>
<dd>Angle in radians</dd>
</dl>

</dd>
<dt><h3><a name="getDistanceFromAngleToBearing(VerID.EulerAngleF, VerID.Bearing)">getDistanceFromAngleToBearing</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public final getDistanceFromAngleToBearing(VerID.EulerAngleF, VerID.Bearing)</code>
<p>Distance from a given angle to a bearing</p>
<h4>Parameters</h4>
<dl>
<dt>angle <code>com.appliedrec.ver_id.VerID.EulerAngleF</code></dt>
<dd>From angle</dd>
<dt>bearing <code>com.appliedrec.ver_id.VerID.Bearing</code></dt>
<dd>To bearing</dd>
</dl>
<h4>Returns</h4>
<dl>
<dt><code>double</code></dt>
<dd>Distance normalized to values between 0.0 and 1.0</dd>
</dl>

</dd>
<dt><h3><a name="getThresholdAngleForAxis(VerIDFaceDetectionService.Axis)">getThresholdAngleForAxis</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public getThresholdAngleForAxis(VerIDFaceDetectionService.Axis)</code>
<p>Threshold angle that represents a bearing.
 For example returning a value of 12 for the yaw axis will make bearings with yaw -12 represent left and bearings with yaw 12 represent right.
 Values over 18 are too extreme and values below 10 are not pronounced enough.
 Default value is 12 for both yaw and pitch.</p>
<h4>Parameters</h4>
<dl>
<dt>axis <code><a href="com.appliedrec.ver_id.services.VerIDFaceDetectionService.Axis.html">com.appliedrec.ver_id.services.VerIDFaceDetectionService.Axis</a></code></dt>
</dl>
<h4>Returns</h4>
<dl>
<dt><code>float</code></dt>
<dd>Threshold angle for the given axis</dd>
</dl>
<h4>See also</h4><ul class="seeAlso"><li><a href="com.appliedrec.ver_id.services.VerIDFaceDetectionService.html#getThresholdAngleToleranceForAxis(Axis)">com.appliedrec.ver_id.services.VerIDFaceDetectionService.html#getThresholdAngleToleranceForAxis(Axis)</a></li></ul>
</dd>
<dt><h3><a name="getThresholdAngleToleranceForAxis(VerIDFaceDetectionService.Axis)">getThresholdAngleToleranceForAxis</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public getThresholdAngleToleranceForAxis(VerIDFaceDetectionService.Axis)</code>
<p>Value added or subtracted from the <a href="com.appliedrec.ver_id.services.VerIDFaceDetectionService.html#getThresholdAngleForAxis(Axis)">threshold</a> when evaluating whether an angle matches a bearing.
 For example, given pitch <a href="com.appliedrec.ver_id.services.VerIDFaceDetectionService.html#getThresholdAngleForAxis(Axis)">threshold</a> of 12 and a tolerance returned by this method of 5, an angle
 will match one of the <a href="">up bearings</a> if its pitch is below -7 (0 - 12 + 5).

 <h4>Example</h4>
 <p>Note: The example illustrates the calculation done by the service. The method <a href="com.appliedrec.ver_id.services.VerIDFaceDetectionService.html#angleMatchesBearing(VerID.EulerAngleF, VerID.Bearing)">angleMatchesBearing</a> will achieve the same result with less boilerplate code.</p>
 <p>
 <code>
 EulerAngleF faceAngle; // Angle of the datected face
 float yawThreshold = getThresholdAngleForAxis(Axis.YAW);
 float yawTolerance = getThresholdAngleToleranceForAxis(Axis.YAW);
 EulerAngleF straightBearingAngle = getAngleForBearing(VerID.Bearing.STRAIGHT);
 boolean isYawCentred = faceAngle.yaw > straightBearingAngle.yaw - yawThreshold - yawTolerance && faceAngle.yaw < straightBearingAngle.yaw + yawThreshold + yawTolerance;
 </code>
 </p></p>
<h4>Parameters</h4>
<dl>
<dt>axis <code><a href="com.appliedrec.ver_id.services.VerIDFaceDetectionService.Axis.html">com.appliedrec.ver_id.services.VerIDFaceDetectionService.Axis</a></code></dt>
</dl>
<h4>Returns</h4>
<dl>
<dt><code>float</code></dt>
<dd>Threshold tolerance angle for the given axis</dd>
</dl>

</dd>
<dt><h3><a name="getRequestedBearing()">getRequestedBearing</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public synchronized getRequestedBearing()</code>
<h4>Returns</h4>
<dl>
<dt><code>com.appliedrec.ver_id.VerID.Bearing</code></dt>
</dl>

</dd>
<dt><h3><a name="setRequestedBearing(VerID.Bearing)">setRequestedBearing</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public synchronized setRequestedBearing(VerID.Bearing)</code>
<h4>Parameters</h4>
<dl>
<dt>bearing <code>com.appliedrec.ver_id.VerID.Bearing</code></dt>
</dl>

</dd>
<dt><h3><a name="getDefaultFaceBoundsInImageSize(Size)">getDefaultFaceBoundsInImageSize</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public getDefaultFaceBoundsInImageSize(Size)</code>
<h4>Parameters</h4>
<dl>
<dt>imageSize <code>com.appliedrec.shared.Size</code></dt>
</dl>
<h4>Returns</h4>
<dl>
<dt><code>android.graphics.RectF</code></dt>
</dl>

</dd>
</dl></section>
<section><h2>Properties</h2><dl>
<dt><h3><a name="settings">settings</a></h3><p>Introduced in version 4.7.0</p></dt>
<dd>
<code>public final VerIDSessionSettings settings</code>
<p>Session settings</p>

</dd>
</dl></section>
